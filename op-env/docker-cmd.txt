docker network create op_net
--------------------------------------------------

mysql
--------------------------------------------------
docker run -d `
    --network op_net `
    --hostname mysql `
    --name mysql `
    -p 3306:3306 `
    -e MYSQL_ROOT_PASSWORD=root `
    mysql
--------------------------------------------------

redis
--------------------------------------------------
docker run -d `
    --network op_net `
    --hostname redis `
    --name redis `
    -p 6379:6379 `
    redis
--------------------------------------------------

rabbitmq
--------------------------------------------------
docker run -d `
    --network op_net `
    --hostname rabbitmq `
    --name rabbitmq `
    -p 5672:5672 -p 15672:15672 -p 15692:15692 `
    rabbitmq:3-management

https://github.com/rabbitmq/rabbitmq-delayed-message-exchange/releases
docker cp .\rabbitmq_delayed_message_exchange-3.8.17.8f537ac.ez rabbitmq:/plugins

https://github.com/rabbitmq/rabbitmq-prometheus

docker exec -it rabbitmq bash
rabbitmq-plugins list
rabbitmq-plugins enable rabbitmq_delayed_message_exchange
rabbitmq-plugins enable rabbitmq_prometheus
--------------------------------------------------

elasticsearch
--------------------------------------------------
docker run -d `
    --network op_net `
    --hostname elasticsearch `
    --name elasticsearch `
    -p 9200:9200 -p 9300:9300 `
    -e "discovery.type=single-node" `
    elasticsearch:7.13.2
--------------------------------------------------

prometheus
--------------------------------------------------
docker run -d `
    --network op_net `
    --hostname prometheus `
    --name prometheus `
    -p 9090:9090 `
    -v /d/Workspace/IdeaProjects/onepiece/op-alliance/op-env:/etc/prometheus `
    prom/prometheus `
    --config.file=/etc/prometheus/prometheus.yml
--------------------------------------------------

grafana
--------------------------------------------------
docker run -d `
    --network op_net `
    --hostname grafana `
    --name grafana `
    -p 3000:3000 `
    grafana/grafana
--------------------------------------------------

mysqld-exporter
--------------------------------------------------
docker run -d `
    --network op_net `
    --hostname mysqld-exporter `
    --hostname mysqld-exporter `
    -p 9104:9104 `
    -e DATA_SOURCE_NAME="root:root@(host.docker.internal:3306)/" `
    prom/mysqld-exporter
--------------------------------------------------

redis_exporter
--------------------------------------------------
docker run -d `
    --network op_net `
    --hostname redis_exporter `
    --hostname redis_exporter `
    -p 9121:9121 `
    oliver006/redis_exporter `
    --redis.addr redis://host.docker.internal:6379
--------------------------------------------------

nacos
--------------------------------------------------
https://github.com/alibaba/nacos/blob/master/config/src/main/resources/META-INF/nacos-db.sql

docker run -d `
    --network op_net `
    --hostname nacos `
    --name nacos `
    -p 8848:8848 -p 9848:9848 -p 9555:9555 `
    -v /d/Workspace/IdeaProjects/onepiece/op-alliance/nacos-logs/:/home/nacos/logs `
    -v /d/Workspace/IdeaProjects/onepiece/op-alliance/op-env/nacos.properties:/home/nacos/init.d/custom.properties `
    -e PREFER_HOST_MODE=hostname `
    -e MODE=standalone `
    -e SPRING_DATASOURCE_PLATFORM=mysql `
    -e MYSQL_SERVICE_HOST=host.docker.internal `
    -e MYSQL_SERVICE_PORT=3306 `
    -e MYSQL_SERVICE_DB_NAME=nacos `
    -e MYSQL_SERVICE_USER=root `
    -e MYSQL_SERVICE_PASSWORD=root `
    -e MYSQL_SERVICE_DB_PARAM=characterEncoding=utf8"&"connectTimeout=1000"&"socketTimeout=3000"&"autoReconnect=true"&"useSSL=false `
    nacos/nacos-server
--------------------------------------------------